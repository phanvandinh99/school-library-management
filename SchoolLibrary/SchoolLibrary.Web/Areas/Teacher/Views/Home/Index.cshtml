@{
    ViewData["Title"] = "Dashboard - Gi√°o vi√™n";
}

<div class="content-box">
    <h2>üìä Dashboard</h2>
    
    <div class="row mb-4">
        <div class="col-md-3">
            <div class="card text-center">
                <div class="card-body">
                    <h5 class="card-title">üìñ ƒêang m∆∞·ª£n</h5>
                    <h2 class="text-primary">@Model.TotalBorrowed</h2>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-center">
                <div class="card-body">
                    <h5 class="card-title">‚úÖ ƒê√£ tr·∫£</h5>
                    <h2 class="text-success">@Model.TotalReturned</h2>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-center">
                <div class="card-body">
                    <h5 class="card-title">‚ö†Ô∏è Qu√° h·∫°n</h5>
                    <h2 class="text-danger">@Model.OverdueBooks</h2>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-center">
                <div class="card-body">
                    <h5 class="card-title">üìã ƒê·∫∑t tr∆∞·ªõc</h5>
                    <h2 class="text-info">@Model.ActiveReservations</h2>
                </div>
            </div>
        </div>
    </div>

    <h3 class="mb-3">üìö S√°ch ƒë√£ m∆∞·ª£n g·∫ßn ƒë√¢y</h3>
    <div class="table-responsive">
        <table class="table">
            <thead>
                <tr>
                    <th>T√™n s√°ch</th>
                    <th>Ng√†y m∆∞·ª£n</th>
                    <th>H·∫°n tr·∫£</th>
                    <th>Tr·∫°ng th√°i</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var borrow in Model.RecentBorrows)
                {
                    <tr>
                        <td>@borrow.BookCopy?.Book?.Title</td>
                        <td>@borrow.BorrowDate.ToString("dd/MM/yyyy")</td>
                        <td>@borrow.DueDate.ToString("dd/MM/yyyy")</td>
                        <td>
                            @if (borrow.IsReturned)
                            {
                                <span class="badge bg-success">ƒê√£ tr·∫£</span>
                            }
                            else if (borrow.DueDate < DateTime.Now)
                            {
                                <span class="badge bg-danger">Qu√° h·∫°n</span>
                            }
                            else
                            {
                                <span class="badge bg-warning">ƒêang m∆∞·ª£n</span>
                            }
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

