@model Book
@{
    ViewData["Title"] = "Chi ti·∫øt S√°ch";
}

<div class="content-box">
    <h2>üìñ Chi ti·∫øt S√°ch</h2>
    
    <div class="row">
        <div class="col-md-8">
            <table class="table">
                <tr>
                    <th width="200">T√™n s√°ch:</th>
                    <td>@Model.Title</td>
                </tr>
                <tr>
                    <th>T√°c gi·∫£:</th>
                    <td>@(Model.Author ?? "Ch∆∞a c√≥")</td>
                </tr>
                <tr>
                    <th>ISBN:</th>
                    <td>@(Model.ISBN ?? "N/A")</td>
                </tr>
                <tr>
                    <th>Nh√† xu·∫•t b·∫£n:</th>
                    <td>@(Model.Publisher ?? "Ch∆∞a c√≥")</td>
                </tr>
                <tr>
                    <th>NƒÉm xu·∫•t b·∫£n:</th>
                    <td>@(Model.PublishYear?.ToString() ?? "N/A")</td>
                </tr>
                <tr>
                    <th>Th·ªÉ lo·∫°i:</th>
                    <td>@(Model.Category?.CategoryName ?? "Ch∆∞a ph√¢n lo·∫°i")</td>
                </tr>
                <tr>
                    <th>S·ªë b·∫£n c√≥ s·∫µn:</th>
                    <td>
                        <span class="badge bg-success">@ViewBag.AvailableCopies</span> / 
                        <span class="badge bg-secondary">@Model.TotalCopies</span>
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <div class="mt-4">
        @if (ViewBag.HasReservation == true)
        {
            <div class="alert alert-info">
                B·∫°n ƒë√£ ƒë·∫∑t tr∆∞·ªõc cu·ªën s√°ch n√†y r·ªìi!
            </div>
        }
        else if (ViewBag.AvailableCopies > 0)
        {
            <form method="post" asp-action="Create" asp-controller="Reservation" asp-area="Teacher">
                @Html.AntiForgeryToken()
                <input type="hidden" name="bookId" value="@Model.BookID" />
                <button type="submit" class="btn btn-primary">üìã ƒê·∫∑t tr∆∞·ªõc s√°ch</button>
            </form>
        }
        else
        {
            <div class="alert alert-warning">
                Hi·ªán t·∫°i kh√¥ng c√≥ s√°ch c√≥ s·∫µn. B·∫°n c√≥ th·ªÉ ƒë·∫∑t tr∆∞·ªõc ƒë·ªÉ nh·∫≠n th√¥ng b√°o khi c√≥ s√°ch.
            </div>
            <form method="post" asp-action="Create" asp-controller="Reservation" asp-area="Teacher">
                @Html.AntiForgeryToken()
                <input type="hidden" name="bookId" value="@Model.BookID" />
                <button type="submit" class="btn btn-primary">üìã ƒê·∫∑t tr∆∞·ªõc s√°ch</button>
            </form>
        }
        <a href="@Url.Action("Index")" class="btn btn-secondary">‚Üê Quay l·∫°i</a>
    </div>
</div>

