@model List<BookSuggestion>
@{
    ViewData["Title"] = "ƒê·ªÅ xu·∫•t Mua s√°ch";
}

<div class="content-box">
    <h2>üí° ƒê·ªÅ xu·∫•t Mua s√°ch</h2>
    
    <div class="mb-3">
        <a href="@Url.Action("Create")" class="btn btn-primary">+ Th√™m ƒë·ªÅ xu·∫•t m·ªõi</a>
    </div>

    <div class="table-responsive">
        <table class="table">
            <thead>
                <tr>
                    <th>T√™n s√°ch</th>
                    <th>T√°c gi·∫£</th>
                    <th>ISBN</th>
                    <th>L√Ω do</th>
                    <th>Ng√†y ƒë·ªÅ xu·∫•t</th>
                    <th>Tr·∫°ng th√°i</th>
                    <th>Thao t√°c</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var suggestion in Model)
                {
                    <tr>
                        <td>@suggestion.BookTitle</td>
                        <td>@(suggestion.Author ?? "N/A")</td>
                        <td>@(suggestion.ISBN ?? "N/A")</td>
                        <td>@(suggestion.Reason ?? "Kh√¥ng c√≥")</td>
                        <td>@suggestion.SuggestionDate.ToString("dd/MM/yyyy")</td>
                        <td>
                            @switch (suggestion.Status)
                            {
                                case "Pending":
                                    <span class="badge bg-warning">ƒêang ch·ªù</span>
                                    break;
                                case "Approved":
                                    <span class="badge bg-success">ƒê√£ duy·ªát</span>
                                    break;
                                case "Rejected":
                                    <span class="badge bg-danger">T·ª´ ch·ªëi</span>
                                    break;
                                default:
                                    <span class="badge bg-secondary">@suggestion.Status</span>
                                    break;
                            }
                        </td>
                        <td>
                            <a href="@Url.Action("Details", new { id = suggestion.SuggestionID })" class="btn btn-sm btn-info">Chi ti·∫øt</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

    @if (Model.Count == 0)
    {
        <div class="alert alert-info">
            <strong>B·∫°n ch∆∞a c√≥ ƒë·ªÅ xu·∫•t n√†o!</strong> 
            <a href="@Url.Action("Create")" class="alert-link">T·∫°o ƒë·ªÅ xu·∫•t m·ªõi</a>
        </div>
    }
</div>

